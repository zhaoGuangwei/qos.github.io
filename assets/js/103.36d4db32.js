(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{449:function(a,e,t){"use strict";t.r(e);var r=t(42),s=Object(r.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"abci"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#abci"}},[a._v("#")]),a._v(" ABCI")]),a._v(" "),t("h2",{attrs:{id:"beginblocker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#beginblocker"}},[a._v("#")]),a._v(" BeginBlocker")]),a._v(" "),t("p",[a._v("每一块开始会检查软件升级标志，升级流程如下：")]),a._v(" "),t("ol",[t("li",[a._v("硬分叉，停网，需节点开发者手动编译或下载最提议指定QOS版本，下载指定"),t("code",[a._v("genesis.json")]),a._v("文件替换本地文件，执行"),t("code",[a._v("ｑｏｓｄ unsafe-reset-all")]),a._v(",然后重新新启动。")]),a._v(" "),t("li",[a._v("一般性升级，停网，开发者编译或下载提议指定QOS版本，然后重新启动。")])]),a._v(" "),t("h2",{attrs:{id:"endblocker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#endblocker"}},[a._v("#")]),a._v(" EndBlocker")]),a._v(" "),t("h3",{attrs:{id:"质押期提议"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#质押期提议"}},[a._v("#")]),a._v(" 质押期提议")]),a._v(" "),t("p",[a._v("遍历质押结束时间在当前区块时间之前的所有质押期提议，删除提议信息，扣除所有质押至社区费池。")]),a._v(" "),t("h3",{attrs:{id:"投票期提议"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#投票期提议"}},[a._v("#")]),a._v(" 投票期提议")]),a._v(" "),t("p",[a._v("遍历投票期结束时间在当前区块时间之前的所有投票期提议，统计投票数据。投票通过则针对不同提议类型执行不同生效逻辑：")]),a._v(" "),t("ul",[t("li",[a._v("ProposalTypeText 设置提议状态")]),a._v(" "),t("li",[a._v("ProposalTypeParameterChange 保存提议参数修改")]),a._v(" "),t("li",[a._v("ProposalTypeTaxUsage 从社区费池提取相应比例QOS至提议接收账户")]),a._v(" "),t("li",[a._v("ProposalTypeModifyInflation 保存最新通胀规则")]),a._v(" "),t("li",[a._v("ProposalTypeSoftwareUpgrade 设置软件升级标志")])])])}),[],!1,null,null,null);e.default=s.exports}}]);