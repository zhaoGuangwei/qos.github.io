(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{353:function(t,e,s){"use strict";s.r(e);var a=s(42),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"qos-daemon-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#qos-daemon-server"}},[t._v("#")]),t._v(" QOS Daemon server")]),t._v(" "),s("p",[s("code",[t._v("qosd")]),t._v("创建、初始化、启动QOS网络命令：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("init")]),t._v(" "),s("a",{attrs:{href:"#%E5%88%9D%E5%A7%8B%E5%8C%96"}},[t._v("初始化")])]),t._v(" "),s("li",[s("code",[t._v("add-genesis-accounts")]),t._v(" "),s("a",{attrs:{href:"#%E8%AE%BE%E7%BD%AE%E8%B4%A6%E6%88%B7"}},[t._v("设置创世账户")])]),t._v(" "),s("li",[s("code",[t._v("add-guardian")]),t._v(" "),s("a",{attrs:{href:"#%E6%B7%BB%E5%8A%A0%E7%B3%BB%E7%BB%9F%E8%B4%A6%E6%88%B7"}},[t._v("添加系统账户")])]),t._v(" "),s("li",[s("code",[t._v("gentx")]),t._v(" "),s("a",{attrs:{href:"#%E7%94%9F%E6%88%90%E5%88%9B%E4%B8%96%E4%BA%A4%E6%98%93"}},[t._v("生成创世交易")])]),t._v(" "),s("li",[s("code",[t._v("collect-gentxs")]),t._v(" "),s("a",{attrs:{href:"#%E6%94%B6%E9%9B%86%E5%88%9B%E4%B8%96%E4%BA%A4%E6%98%93"}},[t._v("收集创世交易")])]),t._v(" "),s("li",[s("code",[t._v("config-root-ca")]),t._v(" "),s("a",{attrs:{href:"#%E8%AE%BE%E7%BD%AEca"}},[t._v("设置CA")])]),t._v(" "),s("li",[s("code",[t._v("start")]),t._v(" "),s("a",{attrs:{href:"#%E5%90%AF%E5%8A%A8"}},[t._v("启动")])]),t._v(" "),s("li",[s("code",[t._v("export")]),t._v(" "),s("a",{attrs:{href:"#%E7%8A%B6%E6%80%81%E5%AF%BC%E5%87%BA"}},[t._v("状态导出")])]),t._v(" "),s("li",[s("code",[t._v("testnet")]),t._v(" "),s("a",{attrs:{href:"#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%B5%8B%E8%AF%95%E7%BD%91%E7%BB%9C"}},[t._v("初始化测试网络")])]),t._v(" "),s("li",[s("code",[t._v("unsafe-reset-all")]),t._v(" "),s("a",{attrs:{href:"#%E9%87%8D%E7%BD%AE"}},[t._v("重置")])]),t._v(" "),s("li",[s("code",[t._v("tendermint")]),t._v(" "),s("a",{attrs:{href:"#tendermint"}},[t._v("Tendermint")])]),t._v(" "),s("li",[s("code",[t._v("version")]),t._v(" "),s("a",{attrs:{href:"#%E7%89%88%E6%9C%AC"}},[t._v("版本信息")])])]),t._v(" "),s("p",[t._v("全局参数：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--home string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('"$HOME/.qosd"')]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v('directory for config and data (default "$HOME/.qosd")')])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--log_level string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('"main:info,state:info,*:error"')]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v('Log level (default "main:info,state:info,*:error")')])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--trace")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("print out full stack trace on errors")])])])]),t._v(" "),s("h2",{attrs:{id:"初始化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化"}},[t._v("#")]),t._v(" 初始化")]),t._v(" "),s("p",[s("code",[t._v("qosd init --moniker <your_custom_moniker> --chain-id <chain_id> --overwrite <overwrite>")])]),t._v(" "),s("p",[t._v("参数说明:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("--moniker")]),t._v("   在P2P网络中的名称，与"),s("code",[t._v("config.toml")]),t._v("中"),s("code",[t._v("moniker")]),t._v("配置项对应，可后期修改")]),t._v(" "),s("li",[s("code",[t._v("--chain-id")]),t._v("  链ID，链ID一致的节点才能组成同一个P2P网络")]),t._v(" "),s("li",[s("code",[t._v("--overwrite")]),t._v(" 是否覆盖已存在初始文件")])]),t._v(" "),s("p",[t._v("初始化"),s("code",[t._v("genesis")]),t._v("、"),s("code",[t._v("priv-validator")]),t._v("、"),s("code",[t._v("p2p-node")]),t._v("文件")]),t._v(" "),s("p",[t._v("执行：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ qosd init --moniker capricorn-1000\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("输出：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chain_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test-chain-9nlhQS"')]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c427167c8d2838b00a46e33c4b325a7f05bd2c16"')]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app_message"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" null\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("会在"),s("code",[t._v("$HOME/.qosd/")]),t._v("下创建"),s("code",[t._v("data")]),t._v("和"),s("code",[t._v("config")]),t._v("两个目录。\n"),s("code",[t._v("data")]),t._v("为空目录，用于存储网络启动后保存的数据，\n"),s("code",[t._v("config")]),t._v("中会生成"),s("code",[t._v("config.toml")]),t._v("，"),s("code",[t._v("genesis.json")]),t._v("，"),s("code",[t._v("node_key.json")]),t._v("，"),s("code",[t._v("priv_validator.json")]),t._v("四个文件。")]),t._v(" "),s("h2",{attrs:{id:"设置账户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置账户"}},[t._v("#")]),t._v(" 设置账户")]),t._v(" "),s("p",[s("code",[t._v("qosd add-genesis-accounts <account_coin_s>")])]),t._v(" "),s("p",[s("code",[t._v("<account_coin_s>")]),t._v("账户币种币值列表，eg:[address1],[coin1],[coin2];[address2],[coin1],[coin2]")]),t._v(" "),s("p",[t._v("添加创世账户至"),s("code",[t._v("genesis.json")]),t._v("文件：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ qosd add-genesis-accounts qosacc1c7nh7qquvjm3p28xpsnfn420437ztvzy2hwdtk,10000QOS\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("会在"),s("code",[t._v("genesis.json")]),t._v("文件"),s("code",[t._v("app-state")]),t._v("中"),s("code",[t._v("accounts")]),t._v("部分添加地址为"),s("code",[t._v("qosacc1c7nh7qquvjm3p28xpsnfn420437ztvzy2hwdtk")]),t._v("，持有10000QOS的账户信息。")]),t._v(" "),s("h2",{attrs:{id:"添加系统账户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加系统账户"}},[t._v("#")]),t._v(" 添加系统账户")]),t._v(" "),s("p",[s("code",[t._v("qosd add-guardian --address <address> --description <description>")])]),t._v(" "),s("p",[t._v("参数说明:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("--address")]),t._v("     系统账户地址，可接收"),s("code",[t._v("TaxUsageProposal")]),t._v("提议从社区费池提取的QOS代币")]),t._v(" "),s("li",[s("code",[t._v("--description")]),t._v(" 描述")])]),t._v(" "),s("p",[t._v("添加系统账户至"),s("code",[t._v("genesis.json")]),t._v("文件：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ qosd add-guardian --address qosacc1c7nh7qquvjm3p28xpsnfn420437ztvzy2hwdtk --description "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"this is the description"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("会在"),s("code",[t._v("genesis.json")]),t._v("文件"),s("code",[t._v("app-state")]),t._v("中"),s("code",[t._v("guardian")]),t._v("部分添加地址为"),s("code",[t._v("qosacc1c7nh7qquvjm3p28xpsnfn420437ztvzy2hwdtk")]),t._v("的系统账户。")]),t._v(" "),s("h2",{attrs:{id:"生成创世交易"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成创世交易"}},[t._v("#")]),t._v(" 生成创世交易")]),t._v(" "),s("p",[t._v("生成创建验证节点"),s("RouterLink",{attrs:{to:"/spec/staking.html#TxCreateValidator"}},[t._v("TxCreateValidator")]),t._v("交易")],1),t._v(" "),s("p",[s("code",[t._v("qosd gentx --moniker <validator_name> --owner <account_address> --tokens <tokens>")])]),t._v(" "),s("p",[t._v("参数说明参照"),s("RouterLink",{attrs:{to:"/command/qoscli.html#成为验证节点"}},[t._v("成为验证节点")])],1),t._v(" "),s("p",[t._v("生成验证节点交易：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ qosd gentx --moniker "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Arya\'s node"')]),t._v(" --owner qosacc1c7nh7qquvjm3p28xpsnfn420437ztvzy2hwdtk --tokens "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("默认会在"),s("code",[t._v("$HOME/.qosd/config/gentx")]),t._v("目录下生成以"),s("code",[t._v("nodeID@IP")]),t._v("为文件名的已签名的交易数据文件。")]),t._v(" "),s("h2",{attrs:{id:"收集创世交易"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#收集创世交易"}},[t._v("#")]),t._v(" 收集创世交易")]),t._v(" "),s("p",[s("code",[t._v("qosd collect-gentxs")])]),t._v(" "),s("p",[t._v("收集"),s("code",[t._v("gentx")]),t._v("目录下交易数据，填充到"),s("code",[t._v("genesis.json")]),t._v("中"),s("code",[t._v("app_state")]),t._v("下"),s("code",[t._v("gen_txs")]),t._v("中。")]),t._v(" "),s("h2",{attrs:{id:"设置ca"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置ca"}},[t._v("#")]),t._v(" 设置CA")]),t._v(" "),s("p",[s("code",[t._v("qosd config-root-ca --qcp <qcp_root.pub> --qsc <qsc_root.pub>")])]),t._v(" "),s("p",[s("code",[t._v("<qcp_root.pub>")]),t._v("、"),s("code",[t._v("<qsc_root.pub>")]),t._v("为根证书公钥文件路径")]),t._v(" "),s("p",[t._v("设置Root CA公钥信息，用于"),s("RouterLink",{attrs:{to:"/command/qoscli.html#代币"}},[t._v("代币")]),t._v("和"),s("RouterLink",{attrs:{to:"/command/qoscli.html#联盟链"}},[t._v("联盟链")]),t._v("涉及到证书操作的校验。")],1),t._v(" "),s("h2",{attrs:{id:"启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[t._v("#")]),t._v(" 启动")]),t._v(" "),s("p",[s("code",[t._v("qosd start")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--abci string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('"socket"')]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Specify abci transport (socket")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--address string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('"tcp://0.0.0.0:26658")')]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v('Listen address (default "tcp://0.0.0.0:26658")')])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--consensus.create_empty_blocks")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("true")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Set this to false to only produce blocks when there are txs or when the AppHash changes (default true)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--fast_sync")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("true")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Fast blockchain syncing (default true)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--moniker string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("<your_computer_name>")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Node Name")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--p2p.laddr string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('"tcp://0.0.0.0:26656"')]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v('Node listen address. (0.0.0.0:0 means any interface, any port) (default "tcp://0.0.0.0:26656")')])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--p2p.persistent_peers string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Comma-delimited ID@host:port persistent peers")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--p2p.pex")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("true")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Enable/disable Peer-Exchange (default true)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--p2p.private_peer_ids string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Comma-delimited private peer IDs")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--p2p.seed_mode")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Enable/disable seed mode")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--p2p.seeds string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Comma-delimited ID@host:port seed nodes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--p2p.upnp")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Enable/disable UPNP port forwarding")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--priv_validator_laddr string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Socket address to listen on for connections from external priv_validator process")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--proxy_app string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('"tcp://127.0.0.1:26658"')]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Proxy app address, or 'nilapp' or 'kvstore' for local testing. (default \"tcp://127.0.0.1:26658\")")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--pruning string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('"syncable"')]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v('Pruning strategy: syncable, nothing, everything (default "syncable")')])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--rpc.grpc_laddr string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("GRPC listen address (BroadcastTx only). Port required")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--rpc.laddr string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('"tcp://0.0.0.0:26657"')]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v('RPC listen address. Port required (default "tcp://0.0.0.0:26657")')])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--rpc.unsafe")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Enabled unsafe rpc methods")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--trace-store string")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Enable KVStore tracing to an output file")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("--with-tendermint")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("true")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Run abci app embedded in-process with tendermint")])])])]),t._v(" "),s("p",[t._v("启动QOS网络")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ qosd start\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"状态导出"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#状态导出"}},[t._v("#")]),t._v(" 状态导出")]),t._v(" "),s("p",[s("code",[t._v("qosd export --height <block_height> --for-zero-height <export_state_to_start_at_height_zero> -o <directory for exported json file>")])]),t._v(" "),s("p",[t._v("主要参数：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("--height")]),t._v("            指定导出区块高度")]),t._v(" "),s("li",[s("code",[t._v("--for-zero-height")]),t._v("   是否导出状态从0高度重新启动网络")]),t._v(" "),s("li",[s("code",[t._v("--o")]),t._v("                 导出文件位置")])]),t._v(" "),s("p",[t._v("导出区块高度为4的状态数据：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("qosd "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" --height "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("到处完默认成会在"),s("code",[t._v("$HOME/.qosd")]),t._v("下生成以"),s("code",[t._v("genesis-<height>-<timestamp>.json")]),t._v("命名文件。")]),t._v(" "),s("h2",{attrs:{id:"初始化测试网络"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化测试网络"}},[t._v("#")]),t._v(" 初始化测试网络")]),t._v(" "),s("p",[s("code",[t._v("qosd testnet")]),t._v("命令行工具，可批量生成集群配置文件，相关命令参考：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("testnet will create "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v"')]),t._v(" number of directories and populate each with\nnecessary files "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("private validator, genesis, config, etc."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".\n\nNote, strict routability "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" addresses is turned off "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" the config file.\n\nExample:\n\n\tqosd testnet --chain-id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("qostest --v"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" --o"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("./output --starting-ip-address"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.2 --genesis-accounts"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("qosacc1c7nh7qquvjm3p28xpsnfn420437ztvzy2hwdtk,1000000qos\n\nUsage:\n  qosd testnet "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("flags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\nFlags:\n      --chain-id string              Chain ID\n      --compound                     whether the validator"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s income is calculated as compound interest, default: true (default true)\n      --genesis-accounts string      Add genesis accounts to genesis.json, eg: qosacc1c7nh7qquvjm3p28xpsnfn420437ztvzy2hwdtk,1000000qos,1000000qstars. Multiple accounts separated by '")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\n      --guardians string             addresses for guardian. Multiple addresses separated by '")]),t._v(",'\n  -h, --help                         "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("help")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" testnet\n      --home-client string           directory "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" keybase "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HOME")]),t._v('/.qoscli"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      --hostname-prefix string       Hostname prefix "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node results "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" persistent peers list ID0@node0:26656, ID1@node1:26656, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      --node-dir-prefix string       Prefix the directory name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" each node with "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node results "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" node0, node1, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      --o string                     Directory to store initialization data "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the testnet "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./mytestnet"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      --qcp-root-ca string           Config pubKey of root CA "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" QSC\n      --qsc-root-ca string           Config pubKey of root CA "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" QCP\n      --starting-ip-address string   Starting IP address "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".0.1 results "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" persistent peers list ID0@192.168.0.1:26656, ID1@192.168.0.2:26656, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      --v int                        Number of validators to initialize the testnet with "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nGlobal Flags:\n      --home string        directory "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" config and data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HOME")]),t._v('/.qosd"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      --log_level string   Log level "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"main:info,state:info,*:error"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      --trace              print out full stack trace on errors\n\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br")])]),s("p",[t._v("主要参数说明：")]),t._v(" "),s("ul",[s("li",[t._v("chain-id            链ID")]),t._v(" "),s("li",[t._v("genesis-accounts    初始账户")]),t._v(" "),s("li",[t._v("hostname-prefix     hostName前缀")]),t._v(" "),s("li",[t._v("moniker             moniker")]),t._v(" "),s("li",[t._v("qcp-root-ca         pubKey of root CA for QCP")]),t._v(" "),s("li",[t._v("qsc-root-ca         pubKey of root CA for QSC")]),t._v(" "),s("li",[t._v("compound            收益复投方式，默认true，即收益参与复投")]),t._v(" "),s("li",[t._v("starting-ip-address 起始IP地址")])]),t._v(" "),s("h2",{attrs:{id:"重置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重置"}},[t._v("#")]),t._v(" 重置")]),t._v(" "),s("p",[s("code",[t._v("qosd unsafe-reset-all")])]),t._v(" "),s("p",[t._v("重置区块链数据库，删除地址簿文件，重置状态至初始状态。")]),t._v(" "),s("h2",{attrs:{id:"tendermint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tendermint"}},[t._v("#")]),t._v(" Tendermint")]),t._v(" "),s("p",[t._v("tendermint子命令：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("qosd tendermint show-address")]),t._v("    Show this node's tendermint validator address")]),t._v(" "),s("li",[s("code",[t._v("qosd tendermint show-node-id")]),t._v("    Show this node's ID")]),t._v(" "),s("li",[s("code",[t._v("qosd tendermint show-validator")]),t._v("  Show this node's tendermint validator info")])]),t._v(" "),s("h2",{attrs:{id:"版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本"}},[t._v("#")]),t._v(" 版本")]),t._v(" "),s("p",[t._v("与"),s("RouterLink",{attrs:{to:"/command/qoscli.html#版本"}},[t._v("qoscli version")]),t._v("相同")],1)])}),[],!1,null,null,null);e.default=n.exports}}]);