(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{437:function(s,a,t){"use strict";t.r(a);var e=t(42),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"ca"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ca"}},[s._v("#")]),s._v(" CA")]),s._v(" "),t("p",[s._v("QOS 证书源码参照"),t("a",{attrs:{href:"https://github.com/QOSGroup/kepler.git",target:"_blank",rel:"noopener noreferrer"}},[s._v("kepler"),t("OutboundLink")],1),s._v("，可编译可执行命令工具"),t("code",[s._v("kepler")]),s._v("。")]),s._v(" "),t("h2",{attrs:{id:"概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[s._v("#")]),s._v(" 概念")]),s._v(" "),t("p",[s._v("QOS创建QSC、初始化QCP需要申请CA，获得"),t("code",[s._v("qsc.crt")]),s._v("、"),t("code",[s._v("qcp.crt")]),s._v("等证书文件")]),s._v(" "),t("p",[t("code",[s._v("qoscli tx create-qsc")]),s._v("、"),t("code",[s._v("qoscli tx init-qcp")]),s._v("需要传入"),t("code",[s._v("qsc.crt")]),s._v("、"),t("code",[s._v("qcp.crt")]),s._v("，对应数据结构：")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" CertificateSigningRequest "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tSubj      Subject       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`json:"subj"`')]),s._v("\n\tIsCa      "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`json:"is_ca"`')]),s._v("\n\tNotBefore time"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Time     "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`json:"not_before"`')]),s._v("\n\tNotAfter  time"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Time     "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`json:"not_after"`')]),s._v("\n\tPublicKey crypto"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PubKey "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`json:"public_key"`')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("不同证书，Subject不一样。")]),s._v(" "),t("h3",{attrs:{id:"qsc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#qsc"}},[s._v("#")]),s._v(" QSC")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" QSCSubject "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tChainId "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`json:"chain_id"`')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 证书可用链")]),s._v("\n\tName    "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`json:"name"`')]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 联盟币名称，大写字母、长度不超过8")]),s._v("\n\tBanker  crypto"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PubKey "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`json:"banker"`')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// banker公钥，ed25519")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"qcp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#qcp"}},[s._v("#")]),s._v(" QCP")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" QCPSubject "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tChainId  "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`json:"chain_id"`')]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 证书可用链")]),s._v("\n\tQCPChain "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`json:"qcp_chain"`')]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 联盟链")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"申请方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#申请方式"}},[s._v("#")]),s._v(" 申请方式")]),s._v(" "),t("p",[s._v("证书中心提供rpc供开发者申请和查询，申请成功后，等待CA管理人员审核，通过后证书会通过邮件的形式发送到申请邮箱。")]),s._v(" "),t("h3",{attrs:{id:"qcp-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#qcp-2"}},[s._v("#")]),s._v(" QCP")]),s._v(" "),t("p",[s._v("申请：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X POST "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{baseUrl}/qcp/apply?qcpChainId={QCP chain-id}&qosChainId={QOS mainnet chain-id}&qcpPub={QCP public key}&phone={mobile}&email={email}&info={apply info}"')]),s._v(" -H "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"accept: application/json"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("必填参数：")]),s._v(" "),t("ul",[t("li",[s._v("qcpChainId 联盟链chain-id")]),s._v(" "),t("li",[s._v("qosChainId QOS主网chain-id")]),s._v(" "),t("li",[s._v('qcpPub 联盟链公钥信息，eg.{"type":"tendermint/PubKeyEd25519","value":"VxlG2mFfbAaWSqIOuntAB3wojZwQz+sK070LC4ZBAeg="}')]),s._v(" "),t("li",[s._v("phone 手机号")]),s._v(" "),t("li",[s._v("email 邮箱")]),s._v(" "),t("li",[s._v("info 备注信息")])]),s._v(" "),t("p",[s._v("查询：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X GET "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{baseUrl}/qcp/apply?phone={mobile}&email={email}"')]),s._v(" -H "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"accept: application/json"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("必填参数：")]),s._v(" "),t("ul",[t("li",[s._v("phone 手机号")]),s._v(" "),t("li",[s._v("email 邮箱")])]),s._v(" "),t("h3",{attrs:{id:"qsc-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#qsc-2"}},[s._v("#")]),s._v(" QSC")]),s._v(" "),t("p",[s._v("申请：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X POST "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{baseUrl}/qsc/apply?qscName={QSC name}&qosChainId={QOS mainnet chain-id}&qscPub={QSC public key}&bankerPub={QSC banker public key}&phone={mobile}&email={email}&info={apply info}"')]),s._v(" -H "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"accept: application/json"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("必填参数：")]),s._v(" "),t("ul",[t("li",[s._v("qscName QSC代币名称，8个字符长度以内，大写")]),s._v(" "),t("li",[s._v("qosChainId QOS主网chain-id")]),s._v(" "),t("li",[s._v('qscPub QSC公钥信息，eg.{"type":"tendermint/PubKeyEd25519","value":"VxlG2mFfbAaWSqIOuntAB3wojZwQz+sK070LC4ZBAeg="}')]),s._v(" "),t("li",[s._v('bankerPub QSC发币账户公钥信息，eg.{"type":"tendermint/PubKeyEd25519","value":"VxlG2mFfbAaWSqIOuntAB3wojZwQz+sK070LC4ZBAeg="}')]),s._v(" "),t("li",[s._v("phone 手机号")]),s._v(" "),t("li",[s._v("email 邮箱")]),s._v(" "),t("li",[s._v("info 备注信息")])]),s._v(" "),t("p",[s._v("查询：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X GET "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{baseUrl}/qsc/apply?phone={mobile}&email={email}"')]),s._v(" -H "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"accept: application/json"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("必填参数：")]),s._v(" "),t("ul",[t("li",[s._v("phone 手机号")]),s._v(" "),t("li",[s._v("email 邮箱")])])])}),[],!1,null,null,null);a.default=n.exports}}]);